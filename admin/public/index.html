<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Caddy 管理后台</title>
</head>
<body>
<h1>Caddy 管理后台</h1>
<form id="routeForm">
    路由路径: <input type="text" name="path" placeholder="/service1"><br>
    目标服务: <input type="text" name="target" placeholder="localhost:5000"><br>
    <button type="submit">添加路由</button>
</form>
<script>
document.getElementById('routeForm').onsubmit = async e => {
    e.preventDefault();
    const path = e.target.path.value;
    const target = e.target.target.value;
    const res = await fetch('/api/routes', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify({path, target})
    });
    alert(await res.text());
}
</script>
</body>
</html>
